******************** 
* JDiff Work Items *
********************

KNOWN BUGS
==========

Bugs for JDiff1.0.6
-------------------

BUG Work with crimson XML parser?

Other Bugs
----------

BUG: Using classdoc to compare jar files suggests that the handling of
classes with no packages is not correct. Temporarily disabled.

BUG: Handling of @link tags in the first sentence of comments is not as 
general as it should be. See convertAtLinks() comments.

BUG: Handle @docroot doc tags in Javadoc1.4

MINOR BUG: @links to methods may not be expanded properly if we don't have the 
signature in the @link. This only happens once (at invoke) in J2SE1.2/1.3, 
and the link goes to the right page, just not the right named anchor. 
Pretty rare.

MINOR BUG: Possibly simply due to the method being at the end of the HTML page. createGenericUpdateEventBody method in BW seems to not have the correct named anchor ref: perhaps it's the spaces? The link still works, just doesn't go the named anchor.
<A NAME="com.vitria.jct.JctLib.createGenericUpdateEventBody_changed(com.vitria.fc.meta.DataInterfaceDef, java.lang.String, java.lang.Object[])"></A>
<A HREF="com.vitria.jct.JctLib.html#
         com.vitria.jct.JctLib.createGenericUpdateEventBody_changed(com.vitria.fc.meta.DataInterfaceDef, java.lang.String, java.lang.Object[])"

BUG: Fix validation of XML

BUG? The MergeChanges code may not be transferring all change information into 
the MemberDiff for methods and fields?

DESIGN
======

Short Term:
----------

Test @value changes

Use -linksource in tests with J2SE1.4

Add progress bars for the longer parts of the program?

Compare new test results to old test results to check parent/child work

Does not check when there is a change in the class in which a locally defined 
method is overriding another method.

Is a change in inheritance for a method or field really equivalent to one
add and one delete in all cases?

org.omg.CORBA.AnySeqHelper is generated by javac or javadoc using J2SE1.3 on 
in J2SE1.2, 
so has no documentation at the Sun website. Same for J2SE1.4 with org.omg.CosNaming.BindingIteratorPOA.html. This is probably due to the issue now noted in the "Limitations" section in jdiff.html.

Refactor code in Diff.java to avoid duplication

Better setting of trace per module

No longer need the lib/TR directory - files deleted

Check where the user comments file is being generated to

Support inherited exclusion in RootDocToXML.java

Unix scripts need chmod +x and dos2unix to work

Does Javadoc add "()" for links to methods with no arguments? It does 
now, but perhaps it did not with J2SE1.2 javadoc?

Long Term:
---------

How to find which classes are documented in a J2SE release, since it is
a subset of of the source classes shipped.
[All files marked as 404 (not found) by Xenu shouold have their packages 
removed from the list scanned when generating the XML. E.g.
http://java.sun.com/j2se/1.3/docs/api/java/awt/dnd/peer/DragSourceContextPeer.html
http://java.sun.com/j2se/1.3/docs/api/java/text/resources/DateFormatZoneData.html
These packages are not documented in the J2SE1.3.]

Reduce memory usage with large APIs

Break up the XML file into smaller files?

Sometimes changed is not linked but documentation is noted as having
changed because the documentation was inherited from a superclass.

Break out subclasses in DiffMyers.java for jar files?

In Javadoc generated HTML, the methods and fields which are inherited 
from a parent do not have named anchors for the JDiff to link to them. This
means that the links go to the correct child class, but the user has to look
in the inherited methods and fields sections to find the right element.
This was fixed by checking for the case in HTMLReportGenerator, but the tricky
case, which is not checked for, is the case with inner classes and methods or 
fields moving to their parent class. In this case, the class will be 
correct, but the link will take you to the top of the page, rather than the 
actual method.

Add support for differences for other languages - create base classes, 
generalize XML.

Avoid need for scripts with J2SE1.4 by calling Javadoc from within an 
executable jar file.

The comment data in the deprecated attribute should really be in a CDATA 
section to avoid having to hide the HTML tags. But his would mean that the 
attribute deprecated would become an element and be harder to parse 
the text out.

Add ability to specify the location of the generated XML file?

Add a "jdiff_" prefix to all generated HTML files to clearly distinguish them
from Javadoc generated files?

Good to add support for Notes - force altered classes etc recorded in user_comments.xml to appear

Break HTMLReportGenerator up into two files

Should have added new class to ClassDiff etc? Tidy up where possible.

Constructor params should be elements?

Define accessor methods for _ vars

Use a modifiers field instead of separate modifiers in XML to save space?

Could do more checking for changed constructors in the first pass - check for the same type.

Add a name_ field to the ConstructorAPI class? Or a common superclass?

The final comparison call to Javadoc could be a separate Java program, but it 
seems more obvious to use Javadoc there too. Also provides the future ability 
to scan the current product at the same time as comparing it, reducing three 
steps to two.

The index files are quite large with J2SE14 - 1.7MB for an HTML file.

TESTS
=====

Check excludeTag with "@docset Internal" works, or however the tag value is 
defined in J2SE1.4
Test change from a class to an interface
Test interfaces more
Test very long names
Test changes in deprecation at a class level
Test @first
Test @link with all different formats
Test comments, multiple ids and the warning of multiple identical ids
Test that identifiers with spaces work
Test classes with no packages
Check that the comments file tests correctly for the correct APIs
Test case of a package and a class having the same name
Test case of moving a method into a superclass and vice versa
Test nested class definitions more closely
Test moving methods and fields from one superclass to another

DOCUMENTATION, BUILD AND EXAMPLES
=================================

Examples:
---------

Add more changes

Documentation:
-------------

Write makefiles and ANT files?

Example of writing your own comments for the report

Developers' notes: TODO is must, OPTION is maybe

Tracking changes in where an inherited method is implemented
Can this be caught be checking parents during mergechange? Perhaps, but 
MethodAPI does not have references to the class it belongs to, nor do classes 
have references to their parents, just the name of the superclass or 
interface. Just doc it.
Doug wrote:
 I notice this under All Differences:
 
  <strike>addCellEditorListener</strike>(CellEditorListener) 
javax.swing.DefaultCellEditor
  
 This was quite confusing to me.  First, there's no link, so it
 appears to me that this method was removed, which I thought odd.  
 When I look deeper at it, the method was actually *moved* to 
 and now inherits from AbstractCellEditor, so it's a bit 
 literal to say it's been removed, though I understand why.
 Now, I believe TopBlend is not smart enough to make this 
 distinction either, but if you were able to add a "moved"
 category, you'd be doing a great service.  If that's not coming, 
 Help should clearly document this so people can interpret the
 results clearly.
 
REPORT PRESENTATION
===================

Better text demo of showing all private changes in APIs

Fix the small size of old and new links

Add ability to have no newjavadoc links either

Better presentation of all the documentation changes - sorted?

Run HTML checker on all generated HTML files - no errors
 - some warnings about <span> elements mixed with <blockquote>, due to
   a combination of diffing HTML with using HTML output
and others still to fix, using tidy and the tests:
Warning: html doctype doesn't match content
Warning: <nobr> is probably intended as </nobr>
      1	ChangedPackage.ChangedMethods.html:92:156: Warning: replacing unexpected </nobr> by </code>
      1	ChangedPackage.ChangedMethods.html:71:187: Warning: discarding unexpected </nobr>
      1	ChangedPackage.ChangedMethods.html:71:179: Warning: trimming empty <nobr>

Avoid single letter indexes with just one entry on a new line
If a return type has a [] in it, browser may break the line before the []
Maybe the table should be name and a row under it for the description , to stop cramped names and descriptions?

Add note that links in docdiffs may not necessarily work, since some of them
are written expecting to be in documents in the Java API tree.

MISCELLANEOUS
=============
